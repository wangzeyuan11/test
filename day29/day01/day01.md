# Node.js第1天

 双色球案例： http://www.codece.com/archives/265



## 一、ES6

  let声明的变量解决提升的问题，不允许重复声明

### 1. 块级作用域

  大括号之间的语句块就是块级作用域，块级作用域下，let和const声明的变量和常量，只能在当前作用域访问到。  

  块级作用域：if、else、for... 所有大括号之间都是

```js
// 块级作用域
{
    var a = 1  //全局变量
    let b = 2  //局部变量
    const c = 3  //局部常量
}
```

  练习：计算出1~100之间所有整数的和，使用let声明变量

  **面试题：var、let、const的区别**

>   var声明的变量存在声明提升，允许重复声明；
>
>   let声明的变量解决了声明提升问题，不允许重复声明；
>
>   const声明的是常量，声明后必须赋值，不允许重新赋值；
>
>   var声明变量只有在函数作用域下是局部变量
>
>   let和const存在块级作用域，在块级作用域是局部变量和常量

### 2. 参数增强

可以给参数设置默认值

```js
function add(a,b,c=0) {
    //ES5默认值
    b = b || 0
}
add(5000)
```

### 3. 箭头函数 

```js
 () => {  }
```

简化了匿名函数的写法 

```js
sort( (a, b)=>{
    return a-b
} )
```

 如果箭头函数的函数体中只有一行代码，并且是return形式可以进一步简化

```js
sort( (a,b) => a-b ) 
```

练习：使用匿名函数创建函数，传递任意3个数字，返回平均值；使用箭头函数代替匿名函数。



## 二、Node.js概述

  Node.js是一种运行在服务器端的JS环境

### Node.js对比JS

- JS运行在客户端浏览器，有多种解释器，存在代码兼容性问题；Node.js运行在服务器端，只有一种解释器，不存在代码兼容性问题
- 两者都有相同的内置对象和自定义对象，有各自的宿主对象
- JS用于操作网页元素，实现用户交互；Node.js用于服务器端开发，例如操作数据库、调用其它的服务器...

   官网：www.nodejs.org

   国内镜像：www.nodejs.cn

### Node.js运行方式

1. 脚本模式  

```bash
node  拖拽产生文件的路径
```

2. 交互模式

```bash
node       //回车 进入到交互模式
ctrl+d   或者   按两次  ctrl+c    //退出交互模式
```

### Node.js特点

  单线程运行逻辑



## 三、全局对象

### global对象

可以查看一个变量或者函数是否为全局的

在交互模式下，属于全局作用域，全局变量和全局函数可以通过global访问

```js
var a = 1  //全局变量
function fn(){   //全局函数
	return 2
}
global.a
global.fn()
```

在脚本文件下，属于模块作用域，变量和函数都是局部的

> JS下全局对象global名称为：window

练习：编写脚本文件04_global.js，在文件中声明变量，创建函数；最后使用global访问

练习：编写文件05_window.html，声明变量，创建函数；通过全局对象window访问是否为全局。

### console对象

 用于输出到控制台 

```js
console.log(1)  //输出日志
console.info(2)  //输出消息
console.warn(3)  //输出警告
console.error(4)  //输出错误
console.time()  //开始计时
console.timeEnd()  //结束计时
```

>  注意事项：开始计时和结束计时的参数要保持一致

练习：统计出for、while、do-while循环100000次的耗时。

### process对象

  进程：计算上任何的软件运行都会占用一定得资源

```js
process.arch    //查看当前服务器的CPU架构
process.platform   //查看服务器的操作系统
process.pid   //查看当前进程的编号
process.kill()   //结束指定编号的进行
```

### Buffer对象

  缓冲区，是内存中一块区域，用于临时存储数据

```js
// 从内存分配空间作为缓冲区，存储一个值，单位是字节，一个汉字占3个字节
var buf = Buffer.alloc(6, 'abc新') // <Buffer 61 62 63 e6 96 b0>
buf.toString()  // 将Buffer转为字符串
```



## 四、模块

每一个JS文件就是模块，模块内部封装了一组功能，会形成一个独立的作用域，变量和函数都不能被外部直接访问。

使用模块化来管理项目，便于维护和代码的复用

require:  是一个函数，用来引入其它的模块，得到暴露的对象

module.exports： 是模块暴露的对象，默认是一个空对象，如果想让外部使用哪个功能，就需要添加到这个对象



练习：



