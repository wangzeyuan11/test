<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		用户<input type="text" id="user">
		密码<input type="text" id="pwd">
		邮箱<input type="text" id="email">
		手机<input type="text" id="phone">
		<button id="btn">注册</button>
		<script>
			btn.onclick = function() {
				var a = user.value
				var b = pwd.value
				var c = email.value
				var d = phone.value
				console.log(a, b, c, d)
				//发送ajax请求
				//1.创建http请求对象
				var xhr = new XMLHttpRequest();
				//2.打开服务器的连接，设置请求的接口
				xhr.open("POST", "http://127.0.0.1:3000/reg", true);
				// //POST请求需要在请求的信息中设置内容类型
				// xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')
				// //3.发送请求
				// //POST请求会将参数放入到请求体
				// xhr.send('a=1&b=2')
				//设置参数的内容类型为JSON
				xhr.setRequestHeader('Content-Type', 'application/json')
				xhr.send('{"a":1,"b":2}')
				//4.绑定事件，监听服务器段的响应
				xhr.onload = function() {
					//获取响应的文本
					console.log(xhr.responseText)
				}
			}
		</script>
	</body>
</html>
